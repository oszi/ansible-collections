---
- name: Toolbox role tasks
  tags: [toolbox]
  block:
    - name: Toolbox package setup tasks
      ansible.builtin.import_tasks:
        file: packages.yml

    - name: Install toolbox scripts
      ansible.builtin.copy:
        src: "bin/"
        dest: "{{ toolbox_local_bin_path }}/"
        owner: "root"
        mode: "0755"

    - name: Remove obsolete toolbox scripts
      ansible.builtin.file:
        path: "{{ item }}"
        state: "absent"
      with_items: "{{ toolbox_obsolete_scripts }}"
