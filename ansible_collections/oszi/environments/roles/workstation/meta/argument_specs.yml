---
argument_specs:
  main:
    short_description: Workstation desktop system configuration and package management
    description:
      - Configures packages and settings for workstation desktop systems
      - Manages desktop applications, security tools, and hardware-specific configurations
      - The supported desktop environment is Gnome Shell
    author:
      - "David O. (oszi.dev)"
    options:
      workstation_packages:
        description:
          - Nested list of package names to install on workstations
          - Defaults to workstation_packages_pt_default, combine with lists from the inventory
        type: list
        elements: raw
        required: false

      workstation_packages_pt_default:
        description:
          - Default platform-specific package list for workstations [avoid directly using this variable]
          - Contains language support (hunspell), smartcard tools (pcscd, pcsc-lite)
          - Includes hardware utilities only for physical machines (ddccontrol, i2c-tools, ltunify, piper)
          - Desktop applications (firewall-config, gparted, keepassxc, remmina, wireshark, etc.)
        type: list
        elements: raw
        required: false

      workstation_blacklisted_packages:
        description:
          - Nested list of package names to remove from workstations
          - Defaults to workstation_blacklisted_packages_pt_*, combine with lists from the inventory
        type: list
        elements: raw
        required: false

      workstation_blacklisted_packages_pt_to_sandbox:
        description:
          - Packages to remove that should be sandboxed with Flatpak/Snap/VMs [avoid directly using this variable]
          - Includes browsers (firefox, chromium) and other desktop apps
          - Removes apport to protect kernel.core_pattern on Debian/Ubuntu systems
        type: list
        elements: raw
        required: false

      workstation_blacklisted_packages_pt_office:
        description:
          - Office packages to remove from workstations [avoid directly using this variable]
          - Includes LibreOffice, Evolution email client, and Evince document viewer
          - These applications are typically better installed via Flatpak, Snap or in VMs
        type: list
        elements: raw
        required: false

      workstation_blacklisted_packages_pt_anaconda:
        description:
          - RedHat/Fedora installer components to remove [avoid directly using this variable]
          - Unnecessary on most systems after installation is complete
        type: list
        elements: raw
        required: false

      workstation_local_bin_path:
        description:
          - Directory path where scripts for workstations are installed
          - Defaults to `local_bin_path` if set (should be in system PATH)
        type: path
        required: false

      workstation_hid_apple_options:
        description:
          - Configuration options for the hid_apple kernel module
          - Controls behavior of Apple keyboards (including Keychron keyboards)
          - Each key is a module parameter name (e.g., fnmode) and each value is the setting
        type: dict
        required: false
        default:
          fnmode: 2
        options:
          fnmode:
            description:
              - Function key mode for Apple keyboards
              - 0=disabled, 1=fkeyslast (Fn+F* for F keys), 2=fkeysfirst (F* for F keys, Fn+F* for special)
              - For Keychron keyboards in Windows mode fkeyslast vs fkeysfirst could be reversed
            type: int
            required: false
            choices: [0, 1, 2]
          iso_layout:
            description: Whether to use ISO keyboard layout
            type: int
            required: false
            choices: [0, 1]
          swap_opt_cmd:
            description: Whether to swap Option and Command keys
            type: int
            required: false
            choices: [0, 1]
          swap_fn_leftctrl:
            description: Whether to swap Fn and left Control keys
            type: int
            required: false
            choices: [0, 1]
