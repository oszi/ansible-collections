---
argument_specs:
  main:
    short_description: Podman container engine configuration and management
    description:
      - Manages Podman container engine installation and configuration
      - Installs podman-compose, podman-toolbox, and podman-docker emulation
      - Configures podman storage, policy, and runtime settings
      - Manages container networks, images, containers, and pods (consider podman_kube or podman_quadlets)
    author:
      - "David O. (oszi.dev)"
    options:
      podman_disabled:
        description:
          - Whether to skip podman configuration and uninstall podman packages
        type: bool
        required: false
        default: false

      podman_compose_enabled:
        description:
          - Whether to install podman-compose (rootless, daemonless docker-compose alternative)
        type: bool
        required: false

      podman_toolbox_enabled:
        description:
          - Whether to install toolbox from containertoolbx.org
          - Requires flatpak to not be disabled
        type: bool
        required: false

      podman_docker_enabled:
        description:
          - Whether to emulate docker using podman-docker package
          - Provides docker CLI compatibility layer
        type: bool
        required: false

      podman_docker_compose_enabled:
        description:
          - Whether to install docker-compose to use with podman (use with caution)
          - For rootless mode set DOCKER_HOST to unix://${XDG_RUNTIME_DIR}/podman/podman.sock
          - Prefer using a virtual environment instead of the distro package
        type: bool
        required: false
        default: false

      podman_graphroot:
        description:
          - Override the graphroot storage path from the default /var/lib/containers/storage
          - Specifies where container images and layers are stored
        type: path
        required: false

      podman_config_policy:
        description:
          - Contents of policy.json in YAML/JSON format
          - Defines container image signature verification and trust policies
        type: dict
        required: false

      podman_config_containers:
        description:
          - Contents of containers.conf configuration file
          - Configures container runtime behavior, resource limits, and defaults
        type: str
        required: false

      podman_config_toolbox:
        description:
          - Contents of toolbox.conf configuration file
          - Configures toolbox container defaults
        type: str
        required: false

      podman_local_bin_path:
        description:
          - Directory path where podman utility scripts are installed
          - Defaults to `local_bin_path` if set (should be in system PATH)
        type: path
        required: false

      podman_networks_list:
        description:
          - List of podman networks as arguments for M(containers.podman.podman_network)
          - Set recreate=true to force apply changes
          - Consider using .network quadlets instead
        type: list
        elements: dict
        required: false

      podman_images_list:
        description:
          - List of podman images as arguments for M(containers.podman.podman_image)
          - Consider using .image quadlets instead
        type: list
        elements: dict
        required: false

      podman_containers_list:
        description:
          - List of podman containers as arguments for M(containers.podman.podman_container)
          - Consider using .container quadlets instead
        type: list
        elements: dict
        required: false

      podman_pods_list:
        description:
          - List of podman pods as arguments for M(containers.podman.podman_pod)
          - Consider using .pod quadlets or podman-kube@.service instead
        type: list
        elements: dict
        required: false
