---
- name: Shell configuration tasks
  tags: [shell]
  block:
    - name: Include shell configuration tasks
      when: not shell_disabled
      ansible.builtin.include_tasks:
        file: shell.yml

    - name: Include bat/batcat setup tasks
      when: "not shell_disabled and 'bat' in shell_packages"
      ansible.builtin.include_tasks:
        file: bat.yml

    - name: Shell role completed
      ansible.builtin.debug:
        msg: prevent-multiple-inclusions
      no_log: true
