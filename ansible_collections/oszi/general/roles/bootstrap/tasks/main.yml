---
- name: Include bootstrap tasks
  tags: [always]
  block:
    - name: Include bootstrap tasks if necessary
      when: boostrap_completed is undefined or not boostrap_completed
      ansible.builtin.include_tasks:
        file: bootstrap.yml

    - name: Set boostrap_completed fact  # This task itself also prevents multiple inclusions.
      ansible.builtin.set_fact:
        boostrap_completed: true
        cacheable: true  # Export to later roles and plays via fact caching.
