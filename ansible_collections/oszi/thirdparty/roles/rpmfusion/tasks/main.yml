---
- name: RPMFusion tasks on RedHat family
  when: "ansible_facts.os_family == 'RedHat'"
  tags: [rpmfusion]
  block:
    - name: Include RPMFusion configuration tasks
      ansible.builtin.include_tasks:
        file: "{{ ansible_facts.os_family | lower }}/{{ rpmfusion_enabled | ternary('install', 'uninstall') }}.yml"

    - name: Include RPMFusion package setup tasks
      when: "rpmfusion_packages | length > 0 or rpmfusion_blacklisted_packages | length > 0"
      ansible.builtin.include_tasks:
        file: packages.yml
